import{a as h}from"./chunk-BKXNEZZJ.js";import{S as c,X as l,h as p,k as n}from"./chunk-I3VTNIRB.js";var g=(()=>{let i=class i{constructor(o,t){this.router=o,this.http=t,this.API_URL=h.API_URL}login(o,t,e){let s={email:o,password:t};this.http.post(this.API_URL+"/login",s).subscribe(r=>{localStorage.setItem("token",r.token),this.router.navigate(["/user-home"])},r=>{e(r)})}logout(){localStorage.removeItem("token"),this.router.navigate(["/login"])}resetPassword(o,t){let e={email:o};this.http.post(this.API_URL+"/resetpassword",e).subscribe(s=>{console.log(s.otp)},s=>{t(s)})}otp(o,t,e){let s={email:o,otp:t};console.log(o),console.log(t),this.http.post(this.API_URL+"/otp",s).subscribe(r=>{this.router.navigate(["/updatepassword"])},r=>{e(r)})}updatePassword(o,t){let e={email:this.otp,password:o};console.log(e.email),this.http.post(this.API_URL+"/updatepassword",e).subscribe(s=>{},s=>{t(s)})}};i.\u0275fac=function(t){return new(t||i)(n(l),n(c))},i.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})();export{g as a};
